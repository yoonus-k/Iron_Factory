# Ù†Ø¸Ø§Ù… Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù‘Ù† Ù…Ø¹ ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø¹Ù…Ø§Ù„

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

ØªÙ… ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… Ù„Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ© ÙŠÙ…ÙŠÙ‘Ø² Ø¨ÙŠÙ† Ù†ÙˆØ¹ÙŠ Ø§Ù„Ø¹Ù…Ø§Ù„:
- **Ø¹Ù…Ø§Ù„ Ø£ÙØ±Ø§Ø¯**: Ø¹Ù…Ø§Ù„ ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø±Ù‡Ù… Ø¨Ø´ÙƒÙ„ ÙØ±Ø¯ÙŠ
- **Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¹Ù…Ø§Ù„ (ÙØ±ÙŠÙ‚)**: ÙØ±ÙŠÙ‚ ÙƒØ§Ù…Ù„ Ù…Ù† Ø§Ù„Ø¹Ù…Ø§Ù„

## Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### `shift_transfer_history`
Ø¬Ø¯ÙˆÙ„ Ø³Ø¬Ù„ Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„:
```
- shift_id: Ù…Ø¹Ø±Ù Ø§Ù„ÙˆØ±Ø¯ÙŠØ©
- from_supervisor_id: Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ…
- to_supervisor_id: Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
- old_data: JSON - Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
- new_data: JSON - Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- transfer_type: individual | team | mixed
- transfer_notes: Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù†Ù‚Ù„
- transferred_by: Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„Ù†Ù‚Ù„
- status: pending | completed | approved | rejected
```

#### ØªØ­Ø¯ÙŠØ«Ø§Øª `shift_assignments`
ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£Ø¹Ù…Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©:
```
- individual_worker_ids: JSON - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£ÙØ±Ø§Ø¯
- team_worker_ids: JSON - Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ø§Ù„ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
- team_groups: JSON - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
```

### 2. Models

#### `ShiftTransferHistory`
```php
// Ø§Ø³ØªØ®Ø¯Ø§Ù…
$transfer = ShiftTransferHistory::create([
    'shift_id' => $shiftId,
    'from_supervisor_id' => $oldSupervisor,
    'to_supervisor_id' => $newSupervisor,
    'transfer_type' => 'team',
    'transferred_by' => auth()->user()->id,
]);

// Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$transfer->fromSupervisor; // Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ…
$transfer->toSupervisor; // Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
$transfer->getTransferTypeLabel(); // Ø§Ø³Ù… Ø§Ù„Ù†ÙˆØ¹ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
$transfer->getStatusLabel(); // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ù‚Ù„
```

#### `ShiftAssignment` - Methods Ø¬Ø¯ÙŠØ¯Ø©
```php
// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£ÙØ±Ø§Ø¯
$shift->getIndividualWorkers();

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
$shift->getTeamWorkers();

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$shift->getWorkerTeams();

// Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ø§Ù„ Ø£ÙØ±Ø§Ø¯
$shift->addIndividualWorkers([1, 2, 3])->save();

// Ø¥Ø¶Ø§ÙØ© Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¹Ù…Ø§Ù„
$shift->addWorkerTeam(1, [4, 5, 6], 'Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©')->save();

// Ø¥Ø²Ø§Ù„Ø© Ø¹Ù…Ø§Ù„ Ø£ÙØ±Ø§Ø¯
$shift->removeIndividualWorkers([1, 2])->save();

// Ø¥Ø²Ø§Ù„Ø© Ù…Ø¬Ù…ÙˆØ¹Ø©
$shift->removeWorkerTeam(1)->save();

// Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ø§Ù„
$shift->getTotalWorkersCount();

// Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„
$shift->transferHistory(); // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø©
```

### 3. Routes Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

```php
// Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù†Ù‚Ù„
GET /manufacturing/shifts-workers/{id}/transfer

// Ø­ÙØ¸ Ø§Ù„Ù†Ù‚Ù„ (Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯)
POST /manufacturing/shifts-workers/{id}/transfer-store-v2

// Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„
GET /manufacturing/shifts-workers/{id}/transfer-history
```

### 4. Views Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### `transfer.blade.php` - Ù…Ø­Ø³Ù‘Ù†Ø©
- Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù†Ù‚Ù„ (Ø£ÙØ±Ø§Ø¯ Ø£Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª)
- Ø¹Ø±Ø¶ Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† (Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯)
- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯ Ø§Ù„ÙÙˆØ±ÙŠ
- ØªØµÙØ­ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø¨Ø³Ù‡ÙˆÙ„Ø©

#### `transfer-history.blade.php` - Ø¬Ø¯ÙŠØ¯
- Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„
- Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰ ÙˆØ§Ù„Ø¬Ø¯Ø¯
- ØªÙ…ÙŠÙŠØ² ÙˆØ§Ø¶Ø­ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹
- Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø©

### 5. Controller - Methods Ø¬Ø¯ÙŠØ¯Ø©

#### `transferStoreV2($request, $id)`
Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯:
```php
// ÙŠÙ‚Ø¨Ù„:
- new_supervisor_id: Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
- transfer_type: individual|team|mixed
- individual_workers: Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£ÙØ±Ø§Ø¯
- teams: JSON array Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
- transfer_notes: Ù…Ù„Ø§Ø­Ø¸Ø§Øª

// ÙŠÙØ¹Ù„:
1. ØªØ­Ø¯ÙŠØ« shift_assignments Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
2. Ø¥Ù†Ù‡Ø§Ø¡ ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰ ÙÙŠ worker_stage_history
3. Ø¨Ø¯Ø¡ ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¬Ø¯Ø¯
4. Ø­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„ ÙÙŠ shift_transfer_history
5. ØªØ³Ø¬ÙŠÙ„ ÙÙŠ shift_operation_logs
```

#### `transferHistory($id)`
Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„:
```php
// ÙŠØ³ØªØ®Ø¯Ù…:
- Pagination (10 Ø³Ø¬Ù„Ø§Øª Ù„ÙƒÙ„ ØµÙØ­Ø©)
- Eager Loading Ù„Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
- ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)
```

## ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Ù†Ù‚Ù„ Ø¹Ù…Ø§Ù„ Ø£ÙØ±Ø§Ø¯

```php
// Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:
1. Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ©
2. Ø§Ø¶ØºØ· "Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ©"
3. Ø§Ø®ØªØ± "ğŸ‘¤ Ø¹Ù…Ø§Ù„ Ø£ÙØ±Ø§Ø¯"
4. Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
5. Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø°ÙŠÙ† ØªØ±ÙŠØ¯ Ù†Ù‚Ù„Ù‡Ù…
6. Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
7. Ø§Ø¶ØºØ· "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ù‚Ù„"
```

### 2. Ù†Ù‚Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¹Ù…Ø§Ù„

```php
// Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:
1. Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ©
2. Ø§Ø¶ØºØ· "Ù†Ù‚Ù„ Ø§Ù„ÙˆØ±Ø¯ÙŠØ©"
3. Ø§Ø®ØªØ± "ğŸ‘¥ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¹Ù…Ø§Ù„"
4. Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
5. Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ø§Ù„ ÙÙŠ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©)
6. Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
7. Ø§Ø¶ØºØ· "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ù‚Ù„"
```

### 3. Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„

```php
// Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©:
1. Ø§Ø°Ù‡Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ©
2. Ø§Ø¶ØºØ· "Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„"
3. Ø´Ø§Ù‡Ø¯ Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ù‚Ù„:
   - Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰ (Ø£ÙØ±Ø§Ø¯ + Ù…Ø¬Ù…ÙˆØ¹Ø§Øª)
   - Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¬Ø¯Ø¯ (Ø£ÙØ±Ø§Ø¯ + Ù…Ø¬Ù…ÙˆØ¹Ø§Øª)
   - Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®
   - Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù†Ù‚Ù„
```

## Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©

### ÙÙŠ `shift_transfer_history`

```json
{
  "old_data": {
    "individual_worker_ids": [1, 2, 3],
    "team_groups": [
      {
        "team_id": 1,
        "team_name": "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¥Ù†ØªØ§Ø¬",
        "worker_ids": [4, 5, 6]
      }
    ]
  },
  "new_data": {
    "individual_worker_ids": [7, 8],
    "team_groups": [
      {
        "team_id": 2,
        "team_name": "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ¯Ø©",
        "worker_ids": [9, 10, 11],
        "added_at": "2025-12-14 10:30:00"
      }
    ]
  }
}
```

### ÙÙŠ `shift_assignments`

```json
{
  "individual_worker_ids": [1, 2],
  "team_worker_ids": [4, 5, 6, 9, 10],
  "team_groups": [
    {
      "team_id": 1,
      "team_name": "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¥Ù†ØªØ§Ø¬",
      "worker_ids": [4, 5, 6],
      "added_at": "2025-12-14 10:30:00"
    },
    {
      "team_id": 2,
      "team_name": "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ¯Ø©",
      "worker_ids": [9, 10],
      "added_at": "2025-12-14 10:35:00"
    }
  ]
}
```

### ÙÙŠ `worker_stage_history`

```
- worker_type: 'individual' Ø£Ùˆ 'team' (Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø§Ù…Ù„)
- notes: ÙŠÙˆØ¶Ø­ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø§Ù…Ù„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù†Ù‚Ù„ Ø£Ùˆ Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
```

## Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØªØ¨Ø¹

### 1. ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ø§Ù…Ù„ Ø§Ù„ÙØ±Ø¯ÙŠ
```
ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø¹Ø±ÙØ©:
- Ù…ØªÙ‰ Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ø§Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
- Ù…ØªÙ‰ Ø§Ù†ØªÙ‡Ù‰
- Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù†ØªÙ‚Ø§Ù„Ù‡ Ù…Ù† Ù†Ù‚Ù„ ÙˆØ±Ø¯ÙŠØ©
- Ø¥Ø°Ø§ ÙƒØ§Ù† ÙØ±Ø¯ÙŠ Ø£Ù… Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø©
```

### 2. ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
```
ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø¹Ø±ÙØ©:
- Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚
- Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ø§Ù„ ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚
- Ù…ØªÙ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±ÙŠÙ‚
- Ø¬Ù…ÙŠØ¹ ØªÙ†Ù‚Ù„Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚
```

### 3. Ø³Ø¬Ù„ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„ÙƒØ§Ù…Ù„
```
Ø¹Ø±Ø¶ Ø³Ù‡Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ù‚Ù„:
- Ù…Ù† ÙˆØ¥Ù„Ù‰ Ù…Ù†
- Ù†ÙˆØ¹ Ø§Ù„Ù†Ù‚Ù„
- Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø©
- Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø£ÙˆÙ‚Ø§Øª
```

## Ø§Ù„ÙÙˆØ§Ø¦Ø¯

âœ… **ØªÙ…ÙŠÙŠØ² ÙˆØ§Ø¶Ø­** Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø£ÙØ±Ø§Ø¯ ÙˆØ§Ù„ÙØ±Ù‚
âœ… **Ø³Ø¬Ù„ ÙƒØ§Ù…Ù„** Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ù‚Ù„
âœ… **Ø³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…** Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¯ÙŠÙ‡ÙŠØ©
âœ… **ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚** ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
âœ… **ØªÙ‚Ø§Ø±ÙŠØ± Ø´Ø§Ù…Ù„Ø©** Ø¹Ù† Ø­Ø±ÙƒØ© Ø§Ù„Ø¹Ù…Ø§Ù„
âœ… **ØªÙˆØ§ÙÙ‚** Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø¹ÙƒØ³ÙŠ**: Ø­Ù‚Ù„ `worker_ids` ÙŠØ¨Ù‚Ù‰ Ù…Ø­Ø¯Ø«Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù†Ø¸Ø§Ù…
2. **Ø§Ù„ØªØªØ¨Ø¹**: ÙƒÙ„ Ø¹Ø§Ù…Ù„ ÙŠØªÙ… ØªØªØ¨Ø¹Ù‡ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© ØªØ­Øª Ù†ÙˆØ¹Ù‡ Ø§Ù„ØµØ­ÙŠØ­
3. **Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª**: ÙŠØªÙ… Ø­ÙØ¸ ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª ØªÙˆØ¶Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
4. **Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ø§Ø³ØªØ®Ø¯Ø§Ù… indexes Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹

## Ø£Ù…Ø«Ù„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø±Ù…Ø¬ÙŠØ©

```php
// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ù„ Ù…Ø¹ÙŠÙ†
$transfer = ShiftTransferHistory::find($id);

// Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰
$oldIndividual = $transfer->old_data['individual_worker_ids'];
$oldTeams = $transfer->old_data['team_groups'];

// Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¬Ø¯Ø¯
$newIndividual = $transfer->new_data['individual_worker_ids'];
$newTeams = $transfer->new_data['team_groups'];

// Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
echo $transfer->getOldWorkerCount(); // Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰
echo $transfer->getNewWorkerCount(); // Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¬Ø¯Ø¯
echo $transfer->getTransferTypeLabel(); // Ù†ÙˆØ¹ Ø§Ù„Ù†Ù‚Ù„

// Ø§Ù„Ø¨Ø­Ø«
$shifts = ShiftTransferHistory::where('transfer_type', 'team')
    ->where('status', 'completed')
    ->orderBy('created_at', 'desc')
    ->get();
```
