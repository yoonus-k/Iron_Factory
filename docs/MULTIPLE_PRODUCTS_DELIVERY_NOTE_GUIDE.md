# ๐ฆ ุฏููู ุฅูุดุงุก ุฃุฐู ุชุณููู ูู ูุงุชูุฑุฉ ุจูุง ุนุฏุฉ ููุชุฌุงุช

## ๐ฏ ุงูููุฎุต ุงูุณุฑูุน
ูุฐุง ุงููุธุงู ูุณูุญ ูู ุจู:
1. ุงุฎุชูุงุฑ ูุงุชูุฑุฉ ุดุฑุงุก ุชุญุชูู ุนูู ุนุฏุฉ ููุชุฌุงุช/ุจููุฏ
2. ุงุฎุชูุงุฑ ุงูููุชุฌุงุช ุงูุชู ุชุฑูุฏ ุฅูุดุงุก ุฃุฐู ุชุณููู ููุง (ูู ุงูููุชุฌุงุช ุฃู ุจุนุถูุง)
3. ุฅูุดุงุก ุฃุฐู ุชุณููู ูุงุญุฏุฉ ุชุฌูุน ูู ุงูููุชุฌุงุช ุงููุฎุชุงุฑุฉ
4. ุญุณุงุจ ุงููุฑู ุชููุงุฆูุงู ูุงูุชุณููุฉ

---

## ๐ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุฎุทูุฉ 1: ุงูุฐูุงุจ ุฅูู ุตูุญุฉ ุฑุจุท ุงูููุงุชูุฑ
```
http://your-domain/warehouse/reconciliation/link-invoice
```

### ุงูุฎุทูุฉ 2: ุงุฎุชูุงุฑ ุงููุงุชูุฑุฉ
- ุงูุชุจ ูู ุญูู "ุงุจุญุซ ุนู ูุงุชูุฑุฉ ุงูุดุฑุงุก"
- ุงููุงุชูุฑุฉ ูููู ุงูุจุญุซ ุนููุง ุจู:
  - ุฑูู ุงููุงุชูุฑุฉ
  - ุงุณู ุงูููุฑุฏ
  - ุงูุชุงุฑูุฎ

### ุงูุฎุทูุฉ 3: ุฑุคูุฉ ุงูููุชุฌุงุช
ุจุนุฏ ุงุฎุชูุงุฑ ุงููุงุชูุฑุฉุ ุณุชุธูุฑ:
- **ุฌุฏูู ุงูููุชุฌุงุช**: ูุนุฑุถ ูู ุงูููุชุฌุงุช ูู ุงููุงุชูุฑุฉ ูุน:
  - ุงุณู ุงูููุชุฌ
  - ุงููููุฉ
  - ุงููุญุฏุฉ
  - ุงููุฒู ููู ููุชุฌ

### ุงูุฎุทูุฉ 4: ุงุฎุชูุงุฑ ุงูููุชุฌุงุช
- ุถุน โ ุนูู ุงูููุชุฌุงุช ุงูุชู ุชุฑูุฏ ุฅุถุงูุชูุง
- **ุงุฎุชุฑ ูู ุงูููุชุฌุงุช** ุฃู **ุจุนุถ ุงูููุชุฌุงุช ุญุณุจ ุงุญุชูุงุฌู**

### ุงูุฎุทูุฉ 5: ูุฑุงุฌุนุฉ ุงูููุฎุต
ุจุนุฏ ุงูุงุฎุชูุงุฑุ ุณุชุธูุฑ ุจุทุงูุฉ "ููุฎุต ุงูุงุฎุชูุงุฑ" ุชุนุฑุถ:
- โ ุนุฏุฏ ุงูููุชุฌุงุช ุงููุฎุชุงุฑุฉ
- โ ุงููุฒู ุงูุฅุฌูุงูู
- โ ุฅุฌูุงูู ุงููููุฉ
- โ ุงุณู ุงูููุฑุฏ

### ุงูุฎุทูุฉ 6: ุงูุฅูุดุงุก
ุงุถุบุท ุฒุฑ **"ุฅูุดุงุก ุฃุฐู ุชุณููู"** 

#### ูุงุฐุง ูุญุฏุซ ุจุนุฏ ุงูุฅูุดุงุกุ
1. โ ุชููุดุฃ **ุฃุฐู ุชุณููู ุฌุฏูุฏุฉ** ุจุฑูู ูุฑูุฏ
2. โ ุชุฑุชุจุท ุงูุฃุฐู **ุจุงููุงุชูุฑุฉ ุชููุงุฆูุงู**
3. โ ููุณุฌู **ุงููุฒู ุงููุนูู** (ูุฌููุน ุฃูุฒุงู ุงูููุชุฌุงุช ุงููุฎุชุงุฑุฉ)

#### ุฅุฐุง ุชุทุงุจูุช ุงูุฃูุฒุงู:
- โ **ุงูุชุณููุฉ ุชุชู ุชููุงุฆูุงู** โ
- ุงูุญุงูุฉ ุชุชุบูุฑ ุฅูู "ูุชุทุงุจูุฉ" (Matched)
- ูุง ุชุญุชุงุฌ ุชุฏุฎู ูุฏูู

#### ุฅุฐุง ูุงู ููุงู ูุฑู ูู ุงููุฒู:
- โ๏ธ ุงูุฃุฐู **ุชูุฑุณู ุฅูู ูุณู ุงูุชุณููุฉ**
- ููููู ุงูุชุนุฏูู ุงููุฏูู ุฅุฐุง ูุฒู ุงูุฃูุฑ
- ุณุชุดูู ุชูุงุตูู ุงููุฑู ูุงููุณุจุฉ ุงููุฆููุฉ

---

## ๐ ูุซุงู ุนููู

### ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ:
```
ูุงุชูุฑุฉ ุฑูู: INV-2024-001
ุงูููุฑุฏ: ุฃุญูุฏ ููุชูุฑูุฏุงุช

ุงูููุชุฌุงุช:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูููุชุฌ          โ ุงููููุฉ โ ุงููุญุฏุฉ โ ุงููุฒู/ูุญุฏุฉ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ููุจู ูุญุงุณู     โ 100    โ ูุชุฑ   โ 0.5 ูุฌู         โ
โ ููุตูุงุช ููุฑุจูุฉ  โ 50     โ ูุทุนุฉ  โ 0.1 ูุฌู         โ
โ ููุงุชูุญ ุชุญูู   โ 25     โ ูุทุนุฉ  โ 0.2 ูุฌู         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงุฎุชูุงุฑ ุฌุฒุฆู:
```
โ ููุจู ูุญุงุณู (100 ูุชุฑ) โ 50 ูุฌู
โ ููุตูุงุช ููุฑุจูุฉ (50 ูุทุนุฉ) โ 5 ูุฌู
โ ููุงุชูุญ ุชุญูู (ุนุฏู ุงูุงุฎุชูุงุฑ)

ููุฎุต ุงูุงุฎุชูุงุฑ:
- ุงูููุชุฌุงุช: 2 ููุชุฌ
- ุงููุฒู: 55 ูุฌู
- ุงููููุฉ: 150 ูุญุฏุฉ
```

### ุงููุชูุฌุฉ:
```
โ ุชู ุฅูุดุงุก ุฃุฐู ุชุณููู:
   ุฑูู ุงูุฃุฐู: DN-20241121153042-A3F5
   ุงููุฒู ุงููุนูู: 55 ูุฌู
   ูุฒู ุงููุงุชูุฑุฉ: 55 ูุฌู
   โ ูุชุทุงุจูุฉ - ุชู ุงููุทุงุจูุฉ ุชููุงุฆูุงู
```

---

## โ๏ธ ุงูุชูุงุตูู ุงูุชูููุฉ

### ุงูุจูุงูุงุช ุงููุฑุณูุฉ ุฅูู ุงูู API:
```json
{
  "invoice_id": 123,
  "selected_items": [45, 46]  // ูุนุฑูุงุช ุงูู items ุงููุฎุชุงุฑุฉ
}
```

### ุงูู Response ุงููุงุฌุญ:
```json
{
  "success": true,
  "message": "ุชู ุฅูุดุงุก ุฃุฐู ุงูุชุณููู ุจูุฌุงุญ",
  "delivery_note_id": 456,
  "note_number": "DN-20241121153042-A3F5",
  "items_count": 2,
  "total_weight": 55.00,
  "total_quantity": 150.00,
  "discrepancy": 0,
  "is_matched": true
}
```

---

## ๐ง ุงูุชุนุฏููุงุช ุงููุทููุจุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ูุนุฏูุฉ:
1. **purchase_invoices**
   - โ ุฃุถูู: `weight` (ุงููุฒู ุงูุฅุฌูุงูู)
   - โ ุฃุถูู: `weight_unit` (ูุญุฏุฉ ุงููุฒู)

2. **purchase_invoice_items**
   - โ ุฃุถูู: `weight` (ูุฒู ุงูุจูุฏ ุงููุงุญุฏ)
   - โ ุฃุถูู: `weight_unit` (ูุญุฏุฉ ุงููุฒู)

### Eloquent Model Updates:
- โ `PurchaseInvoice::class` - ุฃุถูู ุงูู relationships ูุงูู fillable
- โ `PurchaseInvoiceItem::class` - ุฃุถูู ุญููู ุงููุฒู
- โ `ReconciliationLog::class` - ุงุณุชุฎุฏุงู ููุชุณููุฉ ุงูุชููุงุฆูุฉ

---

## ๐ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### ุงูุชุณููุฉ ุงูุชููุงุฆูุฉ:
```
ุฅุฐุง ุงููุฒู ูุชุทุงุจู:
- ReconciliationLog ูููุดุฃ ุจุญุงูุฉ "matched"
- delivery_note ูุญุตู ุนูู ุญุงูุฉ "reconciliation_status = matched"
- ูุง ุญุงุฌุฉ ูุชุฏุฎู ูุฏูู
```

### ุงูุชุณููุฉ ุงููุฏููุฉ:
```
ุฅุฐุง ุงููุฒู ูุฎุชูู:
- ReconciliationLog ูููุดุฃ ุจุญุงูุฉ "pending"
- ูุธูุฑ ูู ููุญุฉ ุงูุชุณููุงุช ูููุฑุงุฌุนุฉ
- ูููู ุชุนุฏูู ุงูุฃูุฒุงู ูุฏููุงู ุฅุฐุง ูุฒู
```

---

## ๐ ุงูููุงุญุธุงุช ูุงููุตุงุฆุญ

### โ ูุง ูุฌุจ ูุนูู:
- ุงุฎุชุฑ ูุงุชูุฑุฉ ูุงุญุฏุฉ ููุท ูู ูู ูุฑุฉ
- ุชุฃูุฏ ูู ุฅุฏุฎุงู ุงูุฃูุฒุงู ุจุดูู ุตุญูุญ ูู ุงููุงุชูุฑุฉ
- ุงุณุชุฎุฏู ููุณ ูุญุฏุฉ ุงููุฒู (ูุฌู ุฃูุถู)

### โ ูุง ูุฌุจ ุชุฌูุจู:
- ูุง ุชุชุฑู ุงูููุชุฌุงุช ุจุฏูู ูุฒู ูู ุงููุงุชูุฑุฉ
- ูุง ุชุฎุชุฑ ููุณ ุงูููุชุฌ ุฃูุซุฑ ูู ูุฑุฉ
- ูุง ุชุนุฏู ุงููุงุชูุฑุฉ ุจุนุฏ ุฅูุดุงุก ุฃุฐู ุงูุชุณููู

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุฃูุฏ ูู ุฃู ุงููุงุชูุฑุฉ ูููุง ุนูู ุงูุฃูู ููุชุฌ ูุงุญุฏ
2. ุชุฃูุฏ ูู ุฃู ุงูููุชุฌ ุนูุฏู ูุฒู ูุญุฏุฏ
3. ุงุฎุชุฑ ููุชุฌ ูุงุญุฏ ุนูู ุงูุฃูู ูุจู ุงูุฅูุดุงุก
4. ุฑุงุฌุน ุงูุณุฌูุงุช (Activity Logs) ุฅุฐุง ุญุฏุซ ุฎุทุฃ
