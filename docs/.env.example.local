# ============================================
# ملف .env للأجهزة المحلية (Local/Offline Devices)
# ============================================

APP_NAME="Factory System - Local"
APP_DEBUG=true                     # يمكن تفعيله محلياً للتطوير
APP_ENV=local
APP_URL=http://localhost           # أو http://192.168.1.100
APP_KEY=base64:YOUR_KEY_HERE       # استخدم: php artisan key:generate

LOG_CHANNEL=daily

# قاعدة البيانات المحلية
DB_CONNECTION=mysql
DB_HOST=127.0.0.1                  # أو localhost
DB_PORT=3306
DB_DATABASE=factory_local          # قاعدة بيانات محلية
DB_USERNAME=root                   # مستخدم محلي
DB_PASSWORD=                       # كلمة المرور (فارغة لـ root المحلي)

# إعدادات الجلسة
CACHE_STORE=file
QUEUE_CONNECTION=database
SESSION_DRIVER=file
SESSION_LIFETIME=120

# البريد الإلكتروني (اختياري للأجهزة المحلية)
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=your_email@gmail.com
MAIL_FROM_NAME="${APP_NAME}"

# ============================================
# إعدادات المزامنة - الجهاز المحلي (أوفلاين)
# ============================================

# هذا جهاز محلي وليس سيرفر مركزي
IS_CENTRAL_SERVER=false

# ⭐ عنوان السيرفر الأونلاين المركزي (مهم جداً!)
CENTRAL_SERVER_URL=https://yourdomain.com/api/sync

# ⭐ توكن API من السيرفر الأونلاين (مهم جداً!)
# احصل عليه من السيرفر الأونلاين:
# php artisan tinker
# $user = App\Models\User::first();
# $token = $user->createToken('Local-Device-1', ['sync:*'])->plainTextToken;
# echo $token;
CENTRAL_SERVER_TOKEN=1|abc123xyz...your_long_token_here

# تفعيل نظام المزامنة
SYNC_ENABLED=true

# فترة المزامنة التلقائية (بالثواني) - 300 = 5 دقائق
SYNC_AUTO_INTERVAL=300

# حجم الدفعة (أصغر للأجهزة المحلية)
SYNC_BATCH_SIZE=50

# عدد محاولات إعادة المزامنة (أكثر للأجهزة المحلية)
SYNC_MAX_RETRIES=5

# تأخير إعادة المحاولة (بالثواني)
SYNC_RETRY_DELAY=60

# ⭐ معرف الجهاز - يجب أن يكون فريد لكل جهاز محلي
# أمثلة: DEVICE-001, DEVICE-002, FACTORY-PC-1, WAREHOUSE-PC-1
DEVICE_ID=DEVICE-001

# اسم الجهاز (وصفي)
DEVICE_NAME="Factory Floor - PC #1"

# تشفير البيانات أثناء المزامنة
SYNC_ENCRYPTION=true

# الجداول المستثناة من المزامنة
SYNC_EXCLUDED_TABLES=migrations,password_resets,sessions,cache

# ============================================
# ملاحظات مهمة للأجهزة المحلية:
# ============================================
# 1. تأكد من تغيير DEVICE_ID لكل جهاز (DEVICE-001, DEVICE-002, etc)
# 2. احصل على CENTRAL_SERVER_TOKEN من السيرفر الأونلاين
# 3. تأكد من أن CENTRAL_SERVER_URL يشير للسيرفر الأونلاين
# 4. قاعدة البيانات المحلية يجب أن تكون منفصلة لكل جهاز
