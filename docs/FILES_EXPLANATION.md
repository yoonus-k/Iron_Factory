# ๐ ุดุฑุญ ุงููููุงุช ุงูุซูุงุซุฉ ุงููุฑููุฉ

## ๐ฏ ุงููููุงุช ุงูุซูุงุซุฉ ูู:
1. **permissions** - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
2. **roles** - ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
3. **sidebar** - ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

---

## 1๏ธโฃ ูุฌูุฏ `permissions`

### **ุงูููู**: `index.blade.php`
**ุงููุตู**: ุตูุญุฉ ุนุฑุถ **ูุงุฆูุฉ ุงูุตูุงุญูุงุช** (ูุซู ุฌุฏูู)

**ุงูุตูุงุญูุงุช ุงููุณุชุฎุฏูุฉ**:
```blade
@if(canCreate('MANAGE_PERMISSIONS'))   // ุฒุฑ ุฅุถุงูุฉ ุตูุงุญูุฉ ุฌุฏูุฏุฉ
@if(canUpdate('MANAGE_PERMISSIONS'))   // ุฒุฑ ุชุนุฏูู
@if(canDelete('MANAGE_PERMISSIONS'))   // ุฒุฑ ุญุฐู
```

**ูู ูุดูููุง**: โ **Admin ููุท**

**ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ**:
- โ ุนุฑุถ ูุงุฆูุฉ ุงูุตูุงุญูุงุช
- โ ุฅุถุงูุฉ ุตูุงุญูุฉ ุฌุฏูุฏุฉ (ูู ุนูุฏู ุตูุงุญูุฉ)
- โ ุชุนุฏูู ุตูุงุญูุฉ (ูู ุนูุฏู ุตูุงุญูุฉ)
- โ ุญุฐู ุตูุงุญูุฉ (ูู ุนูุฏู ุตูุงุญูุฉ ูููุณุช ุตูุงุญูุฉ ูุธุงู)

**ุฑุงุจุท ุงูุตูุงุญูุฉ ูู ุงูู Sidebar**:
```blade
@isAdmin
    <li>
        <a href="{{ route('permissions.index') }}">
            <i class="fas fa-key"></i> ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
        </a>
    </li>
@endif
```

---

### **ุงูููู**: `create.blade.php`
**ุงููุตู**: ูููุฐุฌ **ุฅุถุงูุฉ ุตูุงุญูุฉ ุฌุฏูุฏุฉ**

**ูู ูุดูููุง**: โ **Admin ููุท** (ุจุนุฏ ุงูุถุบุท ุนูู ุฅุถุงูุฉ ูู ุงูู index)

**ุงูุญููู**:
- ุงุณู ุงูุตูุงุญูุฉ (ุนุฑุจู)
- ุงุณู ุงูุตูุงุญูุฉ (ุฅูุฌููุฒู)
- ููุฏ ุงูุตูุงุญูุฉ (ูุซู: MANAGE_USERS)
- ุงููุญุฏุฉ (Module) - ูุซู: Users, Manufacturing, Reports
- ุงููุตู

---

### **ุงูููู**: `edit.blade.php`
**ุงููุตู**: ูููุฐุฌ **ุชุนุฏูู ุตูุงุญูุฉ ููุฌูุฏุฉ**

**ูู ูุดูููุง**: โ **Admin ููุท** (ุจุนุฏ ุงูุถุบุท ุนูู ุชุนุฏูู ูู ุงูู index)

**ุงูุญููู**: ููุณ ุญููู create.blade.php

---

## 2๏ธโฃ ูุฌูุฏ `roles`

### **ุงูููู**: `index.blade.php`
**ุงููุตู**: ุตูุญุฉ ุนุฑุถ **ูุงุฆูุฉ ุงูุฃุฏูุงุฑ** (ูุซู ุฌุฏูู)

**ุงูุตูุงุญูุงุช ุงููุณุชุฎุฏูุฉ**:
```blade
@if(canCreate('MANAGE_ROLES'))   // ุฒุฑ ุฅุถุงูุฉ ุฏูุฑ ุฌุฏูุฏ
@if(canUpdate('MANAGE_ROLES'))   // ุฒุฑ ุชุนุฏูู
@if(canDelete('MANAGE_ROLES'))   // ุฒุฑ ุญุฐู
```

**ูู ูุดูููุง**: โ **Admin ููุท**

**ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ**:
- โ ุนุฑุถ ูุงุฆูุฉ ุงูุฃุฏูุงุฑ
- โ ุฅุถุงูุฉ ุฏูุฑ ุฌุฏูุฏ
- โ ุชุนุฏูู ุฏูุฑ (ูุน ุชุญุฐูุฑ ููุฃุฏูุงุฑ ุงููุธุงููุฉ)
- โ ุญุฐู ุฏูุฑ (ูุง ุนุฏุง ุงูุฃุฏูุงุฑ ุงููุธุงููุฉ)

**ุฑุงุจุท ุงูุฏูุฑ ูู ุงูู Sidebar**:
```blade
@isAdmin
    <li>
        <a href="{{ route('roles.index') }}">
            <i class="fas fa-user-shield"></i> ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
        </a>
    </li>
@endif
```

---

### **ุงูููู**: `create.blade.php`
**ุงููุตู**: ูููุฐุฌ **ุฅุถุงูุฉ ุฏูุฑ ุฌุฏูุฏ**

**ูู ูุดูููุง**: โ **Admin ููุท**

**ุงูุญููู**:
- ุงุณู ุงูุฏูุฑ (ุนุฑุจู) - ูุซู: ูุฏูุฑุ ูุดุฑู
- ุงุณู ุงูุฏูุฑ (ุฅูุฌููุฒู) - ูุซู: Manager, Supervisor
- ููุฏ ุงูุฏูุฑ - ูุซู: MANAGER, SUPERVISOR
- ุงููุณุชูู - ุฑูู ูุญุฏุฏ ุงูุฃููููุฉ (1 ุงูุฃูู, 10 ุงูุฃุนูู)
- ุงูุญุงูุฉ - ูุดุท ุฃู ุบูุฑ ูุดุท
- ุงูุตูุงุญูุงุช ุงููุฑุชุจุทุฉ ุจูุฐุง ุงูุฏูุฑ

---

### **ุงูููู**: `edit.blade.php`
**ุงููุตู**: ูููุฐุฌ **ุชุนุฏูู ุฏูุฑ ููุฌูุฏ**

**ูู ูุดูููุง**: โ **Admin ููุท**

**ุงูุญููู**: ููุณ ุญููู create.blade.php

**ููุงุญุธุฉ ุฎุงุตุฉ**: ุฅุฐุง ูุงู ุงูุฏูุฑ ูู ุฃุฏูุงุฑ ุงููุธุงู (ADMIN, MANAGER, ุฅูุฎ)ุ ุณูุธูุฑ ุชุญุฐูุฑ ุจุฃู ุจุนุถ ุงูุฅุนุฏุงุฏุงุช ูุง ูููู ุชุนุฏูููุง

---

## 3๏ธโฃ ุงูู `sidebar.blade.php`

### **ุงููุตู**: ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุงูุฑุฆูุณูุฉ
**ูู**: `resources/views/layout/sidebar.blade.php`

**ูู ูุดูููุง**: โ **ุงูุฌููุน** (ููู ูู ูุงุญุฏ ูุดูู ุงูุฎูุงุฑุงุช ุงูููุงุณุจุฉ ูู)

**ุงูุตูุงุญูุงุช ุงููุณุชุฎุฏูุฉ**:
```blade
@canView('VIEW_MAIN_DASHBOARD')          // ููุญุฉ ุงูุชุญูู
@canView('MANAGE_WAREHOUSES')            // ุงููุณุชูุฏุน
@canView('STAGE1_STANDS')                // ุงููุฑุญูุฉ ุงูุฃููู
@canView('STAGE2_PROCESSING')            // ุงููุฑุญูุฉ ุงูุซุงููุฉ
@canView('STAGE3_COILS')                 // ุงููุฑุญูุฉ ุงูุซุงูุซุฉ
@canView('STAGE4_PACKAGING')             // ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ
@canView('MANAGE_MOVEMENTS')             // ุชุชุจุน ุงูุฅูุชุงุฌ
@canView('VIEW_COSTS')                   // ุงููุฏุฑ ูุงูุฌูุฏุฉ
@canView('VIEW_REPORTS')                 // ุงูุชูุงุฑูุฑ
@canView('MANAGE_USERS')                 // ุงูุฅุฏุงุฑุฉ
@if(isAdmin())                           // ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ (Admin ููุท)
@if(isAdmin())                           // ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (Admin ููุท)
@if(isAdmin())                           // ุงูุฅุนุฏุงุฏุงุช (Admin ููุท)
```

**ุงูุชุณูุณู ุงููุฑูู ููุฎูุงุฑุงุช**:
```
๐ ููุญุฉ ุงูุชุญูู
๐ฆ ุงููุณุชูุฏุน
    โโ ุงูููุงุฏ ุงูุฎุงู
    โโ ุงููุชุงุฌุฑ
    โโ ุฅุดุนุงุฑุงุช ุงูุฅุณุชูุงู
    โโ ููุงุชูุฑ ุงูุดุฑุงุก
    โโ ุงูููุฑุฏูู
    โโ ุงูุฅุนุฏุงุฏุงุช
    โโ ูุงุฆูุฉ ุงูุงุณุชุงูุฏุงุช
    โโ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
โ๏ธ ุงููุฑุญูุฉ ุงูุฃููู: ุงูุงุณุชุงูุฏุงุช
โ๏ธ ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงููุนุงูุฌุฉ
๐ฏ ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงููุงูุงุช
๐ฆ ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ: ุงูุชุนุจุฆุฉ
๐ ุชุชุจุน ุงูุฅูุชุงุฌ
๐ฅ ุงููุฑุฏูุงุช ูุงูุนูุงู
๐ก๏ธ ุงููุฏุฑ ูุงูุฌูุฏุฉ
๐ ุงูุชูุงุฑูุฑ ุงูุฅูุชุงุฌูุฉ
๐ค ุงูุฅุฏุงุฑุฉ ูุงูููุงุฑุฏ ุงูุจุดุฑูุฉ
โ๏ธ ุงูุฅุนุฏุงุฏุงุช
```

---

## ๐ ุงูุนูุงูุงุช ุจูู ุงููููุงุช ุงูุซูุงุซุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุงููููู ุงููุฑูู                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  [Sidebar.blade.php] โ ูุนุชูุฏ ุนูู                          โ
โ         โ                                                   โ
โ  [Roles (ุงูุฃุฏูุงุฑ)] + [Permissions (ุงูุตูุงุญูุงุช)]           โ
โ         โ                                                   โ
โ  Blade Directives (@canView, @hasRole, @isAdmin)          โ
โ         โ                                                   โ
โ  PermissionHelper.php (ุงูู Helper Functions)               โ
โ         โ                                                   โ
โ  Database Tables (roles, permissions, role_permission)    โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฌุฏูู ุงูููุงุฑู

| ุงูุฎุงุตูุฉ | Permissions | Roles | Sidebar |
|--------|------------|-------|---------|
| **ุงูููุน** | ุตูุญุฉ ุฅุฏุงุฑุฉ | ุตูุญุฉ ุฅุฏุงุฑุฉ | ูููู ูุงุฌูุฉ |
| **ูู ูุดูููุง** | Admin ููุท | Admin ููุท | ุงูุฌููุน (ุญุณุจ ุงูุตูุงุญูุงุช) |
| **ุงููุธููุฉ** | ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุตูุงุญูุงุช | ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุฃุฏูุงุฑ | ุนุฑุถ ุงูุฎูุงุฑุงุช |
| **ุงูุตูุงุญูุงุช** | MANAGE_PERMISSIONS | MANAGE_ROLES | ูุชุนุฏุฏุฉ |
| **ุนุฏุฏ ุงูู Blade files** | 3 ูููุงุช | 3 ูููุงุช | ููู ูุงุญุฏ |
| **ุนุฏุฏ ุงูู Database tables** | 1 (permissions) | 2 (roles, role_permission) | 0 (ุฌุฒุก ูู layout) |

---

## ๐ฏ ุงููุฑู ูู ุงูุตูุงุญูุงุช

### **ูููุงุช ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ** (Admin ููุท):
```
Admin ูุฏุฎู โ ูุฏูุฑ ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ โ ูุญุฏุฏ ูู ูุดูู ุฅูุด
```

### **ููู ุงูู Sidebar** (ุงูุฌููุน):
```
ุงููุณุชุฎุฏู ูุฏุฎู โ Sidebar ูุนุฑุถ ุงูุฎูุงุฑุงุช ุงููุณููุญุฉ ูู
โ ุจูุงุกู ุนูู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช ุงูุชู ุญุฏุฏูุง Admin
```

---

## ๐ ุงูุตูุงุญูุงุช ุงูุฑุฆูุณูุฉ

### **ูู Permissions Files**:
- `MANAGE_PERMISSIONS` - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (Admin ููุท)

### **ูู Roles Files**:
- `MANAGE_ROLES` - ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ (Admin ููุท)

### **ูู Sidebar**:
- `VIEW_MAIN_DASHBOARD`
- `MANAGE_WAREHOUSES`
- `STAGE1_STANDS`, `STAGE2_PROCESSING`, `STAGE3_COILS`, `STAGE4_PACKAGING`
- `MANAGE_MOVEMENTS`
- `VIEW_COSTS`
- `VIEW_REPORTS`
- `MANAGE_USERS`
- ูุบูุฑูุง...

---

## โ ููุฎุต ุงููุฑู

| ุงูููู | ุงููุธููุฉ | ูู ูุฏุฎูู | ุงูุตูุงุญูุฉ |
|------|--------|---------|----------|
| **permissions/index.blade.php** | ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช | Admin | MANAGE_PERMISSIONS |
| **roles/index.blade.php** | ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ | Admin | MANAGE_ROLES |
| **sidebar.blade.php** | ุนุฑุถ ุงูุฎูุงุฑุงุช | ุงูุฌููุน | ูุชุนุฏุฏุฉ |

---

**ุงูุขู ูููุช ุงููุฑูุ ูุงูุง ุดุบูู ุงูุณูุฏุฑ!** ๐

```bash
php artisan db:seed --class=FixSidebarPermissionsSeeder
```
