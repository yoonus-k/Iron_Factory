## ๐ฏ ุชุญุฏูุซ ูุธุงู ุฑุจุท ุงูููุงุชูุฑ - ุงูุฅุฏุฎุงู ุงููุฏูู

### ูุง ุงูุฐู ุชุบูุฑุ

#### ุงููุดููุฉ ุงูุฃุตููุฉ:
- ูุงูุช ุงูููุงุชูุฑ ุชูุฎุชุงุฑ ูู ูุงุฆูุฉ dropdown ุซุงุจุชุฉ
- ูุง ูููู ุงูุจุญุซ ุนู ุงูุฃุฐููุงุช ูุงูููุงุชูุฑ ุฏููุงููููุงู
- ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุญุฏูุฏุฉ ูุจุทูุฆุฉ

#### โ ุงูุญููู ุงูุฌุฏูุฏุฉ:

### 1๏ธโฃ ูุงุฌูุฉ ุงุณุชุฎุฏุงู ูุญุณููุฉ
**ุงูููู ุงูุฌุฏูุฏ:** `link-invoice-new.blade.php`

ุงููููุฒุงุช:
- ๐ **ุจุญุซ ุฏููุงูููู** ุนู ุฃุฐููุงุช ุงูุชุณููู ุจุงุณุชุฎุฏุงู Select2
- ๐ **ุจุญุซ ุฏููุงูููู** ุนู ุงูููุงุชูุฑ ุงููุดุชุฑูุงุช
- โ๏ธ **ุฅุฏุฎุงู ูุฏูู ูุงูู** ูุจูุงูุงุช ุงููุงุชูุฑุฉ
- ๐ฑ **ุชุจููุจุงุช ุณููุฉ** ููุงุฎุชูุงุฑ ุจูู ุงูุจุญุซ ูุงูุฅุฏุฎุงู ุงููุฏูู
- โก **ูุนุงููุฉ ููุฑูุฉ** ููุจูุงูุงุช ุงููุฎุชุงุฑุฉ
- ๐งฎ **ุญุณุงุจ ููุฑู** ูููุฑู ุจูู ุงูุฃูุฒุงู

### 2๏ธโฃ API ููุจุญุซ ุงูุฏููุงูููู
**ุชู ุฅุถุงูุฉ ุงูู APIs ุงูุชุงููุฉ:**

#### ุฃ) `searchDeliveryNotes` - ุงูุจุญุซ ุนู ุงูุฃุฐููุงุช
```php
GET: /warehouse/reconciliation/api/search-delivery-notes?q=<query>

ุงููุฏุฎูุงุช:
- q: ูุต ุงูุจุญุซ (ุฑูู ุงูุฃุฐู / ุงุณู ุงูููุฑุฏ / ุงููุฒู)

ุงููุฎุฑุฌุงุช:
[
  {
    "id": 1,
    "text": "ุฃุฐู #001 - ุงูููุฑุฏ ุงูุฃูู - ุงููุฒู: 1000 ูููู",
    "note_number": "001",
    "supplier_name": "ุงูููุฑุฏ ุงูุฃูู",
    "actual_weight": 1000,
    "delivery_date": "2024-11-20"
  }
]
```

#### ุจ) `searchInvoices` - ุงูุจุญุซ ุนู ุงูููุงุชูุฑ
```php
GET: /warehouse/reconciliation/api/search-invoices?q=<query>&supplier_id=<id>

ุงููุฏุฎูุงุช:
- q: ูุต ุงูุจุญุซ (ุฑูู ุงููุงุชูุฑุฉ / ุงุณู ุงูููุฑุฏ)
- supplier_id: ูุนุฑู ุงูููุฑุฏ (ุงุฎุชูุงุฑู ููุชุตููุฉ)

ุงููุฎุฑุฌุงุช:
[
  {
    "id": 1,
    "text": "#INV-2024-001 - ุงูููุฑุฏ ุงูุฃูู - ุงูุชุงุฑูุฎ: 2024-11-20",
    "invoice_number": "INV-2024-001",
    "supplier_name": "ุงูููุฑุฏ ุงูุฃูู",
    "invoice_date": "2024-11-20",
    "status": "pending"
  }
]
```

#### ุฌ) `getDeliveryNoteDetails` - ุชูุงุตูู ุงูุฃุฐู
```php
GET: /warehouse/reconciliation/api/delivery-note/{id}

ุงููุฎุฑุฌุงุช:
{
  "id": 1,
  "note_number": "001",
  "supplier_id": 1,
  "supplier_name": "ุงูููุฑุฏ ุงูุฃูู",
  "actual_weight": 1000,
  "delivery_date": "2024-11-20",
  "warehouse_id": 1,
  "material_id": 1,
  "material_name": "ุญุฏูุฏ"
}
```

#### ุฏ) `getInvoiceDetails` - ุชูุงุตูู ุงููุงุชูุฑุฉ
```php
GET: /warehouse/reconciliation/api/invoice/{id}

ุงููุฎุฑุฌุงุช:
{
  "id": 1,
  "invoice_number": "INV-2024-001",
  "supplier_id": 1,
  "supplier_name": "ุงูููุฑุฏ ุงูุฃูู",
  "invoice_date": "2024-11-20",
  "status": "pending",
  "total_amount": 50000
}
```

### 3๏ธโฃ ุชุญุฏูุซ Routes
**ุงูููู:** `routes/web.php`

```php
// โ APIs ููุจุญุซ ูุงูู Auto-complete
Route::get('api/search-delivery-notes', [ReconciliationController::class, 'searchDeliveryNotes']);
Route::get('api/search-invoices', [ReconciliationController::class, 'searchInvoices']);
Route::get('api/delivery-note/{id}', [ReconciliationController::class, 'getDeliveryNoteDetails']);
Route::get('api/invoice/{id}', [ReconciliationController::class, 'getInvoiceDetails']);
```

### 4๏ธโฃ ุณูุฑ ุงูุนูููุฉ ุงูุฌุฏูุฏ

```
ุฏุฎูู ุตูุญุฉ ุฑุจุท ุงููุงุชูุฑุฉ
        โ
ุงูุจุญุซ ุนู ุฃุฐู ุงูุชุณููู (ุจุญุซ ุฏููุงูููู)
        โ
ุงุฎุชูุงุฑ ุงูุฃุฐู ูู ุงููุชุงุฆุฌ
        โ
ุนุฑุถ ูุนูููุงุช ุงูุฃุฐู ุชููุงุฆูุงู
        โ
ุงุฎุชูุงุฑ ุชุจููุจ ุงูุจุญุซ ุฃู ุงูุฅุฏุฎุงู ุงููุฏูู ูููุงุชูุฑุฉ
        โ
ุชุญุฏูุฏ ุงููุงุชูุฑุฉ ุฃู ุฅุฏุฎุงู ุงูุจูุงูุงุช ูุฏูููุง
        โ
ุญุณุงุจ ุงููุฑู ุชููุงุฆูุงู
        โ
ุชุฃููุฏ ูุงูุฑุจุท
        โ
ุฅูุดุงุก ุงูุณุฌู ูุชุณุฌูู ุงูุญุฑูุฉ
```

### 5๏ธโฃ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

#### 1. ุงูุจุญุซ ุนู ูุงุชูุฑุฉ ููุฌูุฏุฉ ุจุงููุนู:
```
1. ุงุจุญุซ ุนู ุงูุฃุฐู: "001"
2. ุงุฎุชุฑ "ุฃุฐู #001 - ุงูููุฑุฏ ุงูุฃูู"
3. ุงูุชูู ูุชุจููุจ "ุงูุจุญุซ ุนู ูุงุชูุฑุฉ"
4. ุงุจุญุซ ุนู "INV-2024-001"
5. ุงุฎุชุฑ ุงููุงุชูุฑุฉ ูู ุงููุชุงุฆุฌ
6. ุณูุชู ููุก ุงูุจูุงูุงุช ุชููุงุฆูุงู
7. ุชุฃููุฏ ูุงูุฑุจุท
```

#### 2. ุฅุฏุฎุงู ูุงุชูุฑุฉ ุฌุฏูุฏุฉ ูุฏูููุง:
```
1. ุงุจุญุซ ุนู ุงูุฃุฐู: "001"
2. ุงุฎุชุฑ "ุฃุฐู #001 - ุงูููุฑุฏ ุงูุฃูู"
3. ุงูุชูู ูุชุจููุจ "ุงูุฅุฏุฎุงู ุงููุฏูู"
4. ุฃุฏุฎู:
   - ุฑูู ุงููุงุชูุฑุฉ: INV-2024-001
   - ุงูุชุงุฑูุฎ: 2024-11-20
   - ุงููุฒู: 1000 ูููู
5. ุณูุธูุฑ ุญุณุงุจ ุงููุฑู ุชููุงุฆูุงู
6. ุฃุถู ููุงุญุธุงุช (ุฅู ูุฒู)
7. ุชุฃููุฏ ูุงูุฑุจุท
```

### 6๏ธโฃ ููุฒุงุช ุฅุถุงููุฉ

โจ **ุงูุญุณุงุจ ุงูููุฑู:**
```javascript
ุนูุฏ ุงูุฅุฏุฎุงู:
ุงููุฒู ุงููุนูู (1000) - ูุฒู ุงููุงุชูุฑุฉ (950) = +50 ูููู (+5.26%)

ุงูุชุญุฐูุฑุงุช:
- ูุฑู ุตุบูุฑ (< 1%): ูุจูู ุชููุงุฆู
- ูุฑู ููุจูู (1-5%): ูุญุชุงุฌ ููุงููุฉ
- ูุฑู ูุจูุฑ (> 5%): ุชูุจูู ูุฑุฆู
```

โจ **ุงูุจุญุซ ุงูุฐูู:**
```
ูููู ุงูุจุญุซ ุจ:
- ุฑูู ุงูุฃุฐู: "001"
- ุงุณู ุงูููุฑุฏ: "ููุฑุฏ"
- ุงููุฒู: "1000"
- ุฑูู ุงููุงุชูุฑุฉ: "INV-2024"
```

โจ **ุงูุชุญูู ูู ุงูุตุญุฉ:**
```
- ุงูุชุญูู ูู ุงุฎุชูุงุฑ ุงูุฃุฐู
- ุงูุชุญูู ูู ุฅุฏุฎุงู ุงููุฒู
- ุญุณุงุจ ุงููุฑู ุงูุฏููุงูููู
- ุชูุจููุงุช ูู ุงููุฑููุงุช ุงููุจูุฑุฉ
```

### 7๏ธโฃ ุงููููุงุช ุงููุนุฏูุฉ

| ุงูููู | ุงูุชุบููุฑุงุช |
|------|----------|
| `ReconciliationController.php` | ุฅุถุงูุฉ 4 API methods ุฌุฏูุฏุฉ |
| `routes/web.php` | ุฅุถุงูุฉ 4 routes ุฌุฏูุฏ |
| `link-invoice-new.blade.php` | ูุงุฌูุฉ ุฌุฏูุฏุฉ ูุน Select2 |

### 8๏ธโฃ ุงููุชุทูุจุงุช ุงูุฅุถุงููุฉ

ุชู ุงุณุชุฎุฏุงู:
- **Select2**: ููุชุจุฉ ุงูุจุญุซ ุงูุฏููุงููููุฉ
- **jQuery**: ููู AJAX ูุงูุฃุญุฏุงุซ
- **Bootstrap 5**: ููุชุตููู

ุฌููุนูุง ูุถููุฉ ูู CDN ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!

### 9๏ธโฃ ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

โก **Optimizations:**
- ุงูุจุญุซ ูุจุฏุฃ ุจุนุฏ 2 ุญุฑู ููุท (delay: 300ms)
- ุงููุชุงุฆุฌ ูุญุฏูุฏุฉ ุจ 10 ูุชุงุฆุฌ
- ุงูู API ูุณุชุฎุฏู Select2 Format ูููุชุงุฆุฌ ุงูููุฑูุฉ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุงููุฉ

### ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ููุงุณุชุฎุฏุงู:
1. โ ุชู ุชุญุฏูุซ ุงูู Controller
2. โ ุชู ุชุญุฏูุซ ุงูู Routes
3. โ ุชู ุฅูุดุงุก ุตูุญุฉ ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ
4. ๐ ุงุฎุชุจุฑ ุงูุชุทุจูู ูู ุฎูุงู:
   - `warehouses/reconciliation/link-invoice`
