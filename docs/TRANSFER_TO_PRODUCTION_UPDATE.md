## ๐ฏ ุชุญุฏูุซ ูุธุงู ููู ุงูุจุถุงุนุฉ ููุฅูุชุงุฌ

### ุงููุดููุฉ ุงูุฃุตููุฉ:
- ุนูุฏ ุงูููุฑ ุนูู "ููู ููุฅูุชุงุฌ" ูุงู ูููู ูุจุงุดุฑุฉ ุจุฏูู ุฅููุงููุฉ ุงุฎุชูุงุฑ ุงููููุฉ
- ูุงูุช ุงูุญุงูุฉ ุชุชุบูุฑ ุฅูู "ูู ุงูุฅูุชุงุฌ" ุญุชู ูู ูููุช ูููุฉ ุฌุฒุฆูุฉ ููุท
- ูุง ูููู ููู ุงูุจุถุงุนุฉ ุนูู ุนุฏุฉ ูุฑุงุญู

### ุงูุญููู ุงููุทุจูุฉ:

#### โ 1. ุชุญุฏูุซ ุฏุงูุฉ `showTransferForm`
**ุงูููู:** `WarehouseRegistrationController.php`

```php
// ูุจู: ูุงู ูููู ูุจุงุดุฑุฉ
return $this->moveToProduction(request(), $deliveryNote);

// ุจุนุฏ: ูุนุฑุถ ูููุฐุฌ ูุงุฎุชูุงุฑ ุงููููุฉ
return view('manufacturing::warehouses.registration.transfer-form', compact(
    'deliveryNote',
    'availableQuantity'
));
```

**ุงููุงุฆุฏุฉ:** ุงูุขู ุนูุฏ ุงูููุฑ ุนูู "ููู ููุฅูุชุงุฌ" ุชูุชูู ุฅูู ุตูุญุฉ ูููุฐุฌ ุจุฏูุงู ูู ุงูููู ุงููุจุงุดุฑ

---

#### โ 2. ุชุญุฏูุซ ุฏุงูุฉ `transferToProduction`
**ุงูููู:** `WarehouseRegistrationController.php`

**ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:**

ุฃ) ุฅุฒุงูุฉ ุงููุญุต ุงูุฐู ูุฌุจุฑ ุนูู ููู ุงููููุฉ ุงููุงููุฉ:
```php
// ูุจู: ูุงู ูุฑูุน ุฎุทุฃ ุฅุฐุง ูู ุชูู ุงููููุฉ ูุงููุฉ
if (abs((float)$validated['quantity'] - $availableQuantity) > 0.001) {
    return back()->with('error', 'ูุฌุจ ููู ุงููููุฉ ุงููุงููุฉ...');
}

// ุจุนุฏ: ูุณูุญ ุจุฃู ูููุฉ
$transferQuantity = (float)$validated['quantity'];
$isFullTransfer = abs($transferQuantity - $availableQuantity) < 0.001;
```

ุจ) ุชุญุฏูุซ ุงูุญุงูุฉ ููุท ุนูุฏ ุงูููู ุงููุงูู:
```php
// ุชุญุฏูุซ ุญุงูุฉ ุงูุชุณุฌูู ููุท ุฅุฐุง ูุงู ุงูููู ูุงููุงู
if ($isFullTransfer) {
    $deliveryNote->update(['registration_status' => 'in_production']);
    $successMessage = 'ุชู ููู ุงูุจุถุงุนุฉ ุจุงููุงูู ููุฅูุชุงุฌ ุจูุฌุงุญ!';
} else {
    $successMessage = 'ุชู ููู ' . number_format($transferQuantity, 2) . ' ูููู ููุฅูุชุงุฌ! ุงููุชุจูู: ' . number_format($availableQuantity - $transferQuantity, 2) . ' ูููู';
}
```

ุฌ) ุชุญุณูู ูุตู ุญุฑูุฉ ุงูููู:
```php
'description' => 'ููู ุจุถุงุนุฉ ููุฅูุชุงุฌ - ุฃุฐู ุฑูู ' . ($deliveryNote->note_number ?? $deliveryNote->id) . 
                ($isFullTransfer ? ' (ููู ูุงูู)' : ' (ููู ุฌุฒุฆู)'),
```

---

#### โ 3. ุฅูุดุงุก ุตูุญุฉ ูููุฐุฌ ุงูููู
**ุงูููู:** `transfer-form.blade.php` (ุฌุฏูุฏ)

**ุงููููุฒุงุช:**
- โจ ุนุฑุถ ูุนุงููุฉ ุญูุฉ ููุญุงูุฉ ูุงููููุฉ ุงููุชุจููุฉ ุฃุซูุงุก ุงูุฅุฏุฎุงู
- ๐ฏ ุฒุฑ "ุงุณุชุฎุฏู ุงููู" ููููู ุงููุงูู ุจุถุบุทุฉ ูุงุญุฏุฉ
- โ๏ธ ุดุฑุญ ูุงุถุญ ูุขููุฉ ุงูููู ุงูุฌุฒุฆู ูุงููุงูู
- ๐ ุนุฑุถ ุงููููุฉ ุงูุญุงููุฉ ูุงููุชุจููุฉ ุจุดูู ูุฑุฆู
- ๐จ ุชุตููู ุงุญุชุฑุงูู ูุน ุฃููุงู ุชูุถูุญูุฉ

---

### ุณูุฑ ุงูุนูููุฉ ุงูุฌุฏูุฏ:

```
ุงููุณุชุฎุฏู ูููุฑ "ููู ููุฅูุชุงุฌ"
        โ
ุนุฑุถ ุตูุญุฉ ุงููููุฐุฌ (transfer-form.blade.php)
        โ
ูุฎุชุงุฑ ุงููููุฉ (ูุงููุฉ ุฃู ุฌุฒุฆูุฉ)
        โ
ูุถูู ููุงุญุธุงุช (ุงุฎุชูุงุฑู)
        โ
ูุคูุฏ ุงูููู
        โ
ุชุณุฌูู ุญุฑูุฉ ุงูููู
        โ
ุชุญุฏูุซ ุงููููุฉ ูู ุงูุฏูุนุฉ
        โ
ุชุญุฏูุซ ุงูุญุงูุฉ:
  - ููู ูุงูู โ "ูู ุงูุฅูุชุงุฌ" โ
  - ููู ุฌุฒุฆู โ ุชุจูู "ูุณุฌูุฉ" โ
```

---

### ุญุงูุงุช ุงูุงุณุชุฎุฏุงู:

#### 1๏ธโฃ ููู ุฌุฒุฆู (50 ูููู ูู 100):
```
ุงูุญุงูุฉ ูุจู: ูุณุฌูุฉ
ุงููููุฉ ุงููุชุงุญุฉ: 100 ูููู
โ ูุฏุฎู 50 ูููู
โ ูููุฑ ุชุฃููุฏ
ุงููุชูุฌุฉ:
  - ุงูุญุงูุฉ: ูุณุฌูุฉ (ูู ุชุชุบูุฑ) โ
  - ููู ููุฅูุชุงุฌ: 50 ูููู
  - ุงููุชุจูู: 50 ูููู
```

#### 2๏ธโฃ ููู ูุงูู (100 ูููู ูู 100):
```
ุงูุญุงูุฉ ูุจู: ูุณุฌูุฉ
ุงููููุฉ ุงููุชุงุญุฉ: 100 ูููู
โ ูุฏุฎู 100 ูููู
โ ูููุฑ ุชุฃููุฏ
ุงููุชูุฌุฉ:
  - ุงูุญุงูุฉ: ูู ุงูุฅูุชุงุฌ โ
  - ููู ููุฅูุชุงุฌ: 100 ูููู
  - ุงููุชุจูู: 0 ูููู
```

#### 3๏ธโฃ ููู ุนูู ุนุฏุฉ ูุฑุงุญู:
```
ุงููุฑุญูุฉ 1:
  - ููู 30 ูููู ูู 100 โ ุงูุญุงูุฉ: ูุณุฌูุฉุ ุงููุชุจูู: 70 ูููู

ุงููุฑุญูุฉ 2:
  - ููู 40 ูููู ูู 70 โ ุงูุญุงูุฉ: ูุณุฌูุฉุ ุงููุชุจูู: 30 ูููู

ุงููุฑุญูุฉ 3:
  - ููู 30 ูููู ูู 30 โ ุงูุญุงูุฉ: ูู ุงูุฅูุชุงุฌ โ
```

---

### ุงูุจูุงูุงุช ุงููุณุฌูุฉ:

ูู ุนูููุฉ ููู ุชุณุฌู:
- `movement_type`: to_production
- `quantity`: ุงููููุฉ ุงููููููุฉ
- `description`: ูุน ูุถุน (ููู ูุงูู) ุฃู (ููู ุฌุฒุฆู)
- `batch_id`: ูุนุฑู ุงูุฏูุนุฉ
- `material_id`: ูุนุฑู ุงููุงุฏุฉ
- `status`: completed
- `created_by`: ุงุณู ุงููุณุชุฎุฏู
- `movement_date`: ุชุงุฑูุฎ ุงูุญุฑูุฉ

---

### ุงููุญูุตุงุช ูุงูุชุญูู:

โ ุงูุชุญูู ูู ูุฌูุฏ MaterialDetail
โ ุงูุชุญูู ูู ูุฌูุฏ ูููุฉ ูุชุงุญุฉ
โ ุงูุชุญูู ูู ุตุญุฉ ุงููููุฉ ุงููุฏุฎูุฉ
โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุน Rollback
โ ุชุญุฏูุซ ุงูุฏูุนุฉ ุชููุงุฆูุงู
โ ุชุณุฌูู ุงูุญุฑูุงุช ุฏูููุฉ

---

### ููุฎุต ุงููููุงุช ุงููุนุฏูุฉ:

| ุงูููู | ุงูุชุนุฏููุงุช |
|------|-----------|
| `WarehouseRegistrationController.php` | ุชุญุฏูุซ showTransferForm ู transferToProduction |
| `transfer-form.blade.php` | ููู ุฌุฏูุฏ - ูููุฐุฌ ุงุฎุชูุงุฑ ุงููููุฉ |

---

### ุงูุขู ุงูุฎุทูุงุช ุงูุชุงููุฉ:
1. โ ุชู ุชุทุจูู ุฌููุน ุงูุชุนุฏููุงุช
2. โ ุชู ุฅูุดุงุก ุตูุญุฉ ุงููููุฐุฌ
3. โ ุชู ุชุญุฏูุซ ุงูููุทู ููุชุญูู ุจุงูุญุงูุฉ
4. ๐ ุงุฎุชุจุฑ ุจู:
   - ููู ุฌุฒุฆู
   - ููู ูุงูู
   - ููู ูุชุนุฏุฏ ุงููุฑุงุญู
