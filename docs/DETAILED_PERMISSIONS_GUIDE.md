# ุฏููู ุงูุตูุงุญูุงุช ุงูุชูุตูููุฉ - ุงูุชุญูู ูู ุงูุญููู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ **17 ุตูุงุญูุฉ ุชูุตูููุฉ** ุฌุฏูุฏุฉ ููุชุญูู ุงูุฏููู ูู ุนุฑุถ ูุชุนุฏูู ุงูุญููู ูู ุตูุญุงุช ุงููุฑุงุญู.

---

## ๐ ุงูุตูุงุญูุงุช ุงูุชูุตูููุฉ ุงููุชุงุญุฉ

### ุงููุฑุญูุฉ ุงูุฃููู (Stage 1)
| ุงูุตูุงุญูุฉ | ุงูููุฏ | ุงููุตู |
|---------|------|-------|
| ุนุฑุถ ุชูุงุตูู ุงููุฒู | `STAGE1_VIEW_WEIGHT` | ุนุฑุถ ุงููุฒู ุงูุฅุฌูุงููุ ุงููุชุจููุ ุงููุฏุฑุ ุงููุณุจ |
| ุชุนุฏูู ุงููุฒู | `STAGE1_EDIT_WEIGHT` | ุชุนุฏูู ูุฒู ุงูุงุณุชุงูุฏุงุช |
| ุนุฑุถ ูุนูููุงุช ุงูุนุงูู | `STAGE1_VIEW_WORKER` | ุนุฑุถ ุงุณู ุงูุนุงููุ ุงููุฑุฏูุฉุ ุงูููุช |

### ุงููุฑุญูุฉ ุงูุซุงููุฉ (Stage 2)
| ุงูุตูุงุญูุฉ | ุงูููุฏ | ุงููุตู |
|---------|------|-------|
| ุนุฑุถ ุชูุงุตูู ุงููุฒู | `STAGE2_VIEW_WEIGHT` | ุนุฑุถ ุชูุงุตูู ุงููุนุงูุฌุฉ ูุงููุฏุฑ |
| ุชุนุฏูู ุงููุฒู | `STAGE2_EDIT_WEIGHT` | ุชุนุฏูู ุฃูุฒุงู ุงููุนุงูุฌุฉ |
| ุนุฑุถ ูุนูููุงุช ุงูุนุงูู | `STAGE2_VIEW_WORKER` | ุนุฑุถ ุจูุงูุงุช ุงูุนุงูู ุงููุณุคูู |

### ุงููุฑุญูุฉ ุงูุซุงูุซุฉ (Stage 3)
| ุงูุตูุงุญูุฉ | ุงูููุฏ | ุงููุตู |
|---------|------|-------|
| ุนุฑุถ ุชูุงุตูู ุงููุฒู | `STAGE3_VIEW_WEIGHT` | ุนุฑุถ ุงููุฒู ุงููุถุงู (ุงูุตุจุบุฉ + ุงูุจูุงุณุชูู) |
| ุชุนุฏูู ุงููุฒู | `STAGE3_EDIT_WEIGHT` | ุชุนุฏูู ุฃูุฒุงู ุงูููุงุฆู |
| ุนุฑุถ ูุนูููุงุช ุงูุนุงูู | `STAGE3_VIEW_WORKER` | ุนุฑุถ ุจูุงูุงุช ุงูุนุงูู |

### ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ (Stage 4)
| ุงูุตูุงุญูุฉ | ุงูููุฏ | ุงููุตู |
|---------|------|-------|
| ุนุฑุถ ุชูุงุตูู ุงููุฒู | `STAGE4_VIEW_WEIGHT` | ุนุฑุถ ุชูุงุตูู ุงูุชุนุจุฆุฉ ูุงููุฒู |
| ุชุนุฏูู ุงููุฒู | `STAGE4_EDIT_WEIGHT` | ุชุนุฏูู ุฃูุฒุงู ุงููุฑุงุชูู |
| ุนุฑุถ ูุนูููุงุช ุงูุนุงูู | `STAGE4_VIEW_WORKER` | ุนุฑุถ ุจูุงูุงุช ุงูุนุงูู |

### ุตูุงุญูุงุช ุนุงูุฉ
| ุงูุตูุงุญูุฉ | ุงูููุฏ | ุงููุตู |
|---------|------|-------|
| ุนุฑุถ ุงูุฃุณุนุงุฑ | `VIEW_PRICES` | ุนุฑุถ ุฃุณุนุงุฑ ุงูููุงุฏ ูุงูููุชุฌุงุช |
| ุชุนุฏูู ุงูุฃุณุนุงุฑ | `EDIT_PRICES` | ุชุนุฏูู ุงูุฃุณุนุงุฑ |
| ุนุฑุถ ุงูุชูุงููู | `VIEW_COSTS` | ุนุฑุถ ุชูุงููู ุงูุฅูุชุงุฌ |
| ุญุฐู ุงูุณุฌูุงุช | `DELETE_RECORDS` | ุญุฐู ุณุฌูุงุช ุงูุฅูุชุงุฌ |

---

## ๐ ุชูุฒูุน ุงูุตูุงุญูุงุช ุนูู ุงูุฃุฏูุงุฑ

### Admin (ูุฏูุฑ ุงููุธุงู)
โ **ูู ุงูุตูุงุญูุงุช** - ูุฑู ููุนุฏู ูู ุดูุก

### Manager (ุงููุฏูุฑ)
โ ุนุฑุถ ูุชุนุฏูู ุชูุงุตูู ุงููุฒู ูู ุฌููุน ุงููุฑุงุญู  
โ ุนุฑุถ ูุนูููุงุช ุงูุนูุงู  
โ ุนุฑุถ ูุชุนุฏูู ุงูุฃุณุนุงุฑ  
โ ุนุฑุถ ุงูุชูุงููู  
โ ุญุฐู ุงูุณุฌูุงุช

### Supervisor (ุงููุดุฑู)
โ ุนุฑุถ ุชูุงุตูู ุงููุฒู ูู ุฌููุน ุงููุฑุงุญู (ูุฑุงุกุฉ ููุท)  
โ ุนุฑุถ ูุนูููุงุช ุงูุนูุงู  
โ ุนุฑุถ ุงูุชูุงููู  
โ ุชุนุฏูู ุงูุฃูุฒุงู  
โ ุนุฑุถ/ุชุนุฏูู ุงูุฃุณุนุงุฑ  
โ ุญุฐู ุงูุณุฌูุงุช

### Worker (ุงูุนุงูู)
โ ูุง ูุฑู ุงูุชูุงุตูู ุงูุญุณุงุณุฉ  
โ ูุง ูุฑู ุงูุฃุณุนุงุฑ ูุงูุชูุงููู  
โ ูุง ูุฑู ูุนูููุงุช ุงูุนูุงู ุงูุขุฎุฑูู  
โ ูุณุชุทูุน ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ููุท

---

## ๐ก ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู ูู Blade

### 1. ุฅุฎูุงุก/ุฅุธูุงุฑ ุญูู ุจูุงุกู ุนูู ุงูุตูุงุญูุฉ

```blade
{{-- ุญูู ุงููุฒู - ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ --}}
@if(canRead('STAGE1_VIEW_WEIGHT'))
<div class="mb-3">
    <label class="form-label">ุงููุฒู ุงูุฅุฌูุงูู</label>
    <input type="number" name="weight" class="form-control" value="{{ $stand->weight }}">
</div>
@endif
```

### 2. ุฌุนู ุญูู ูููุฑุงุกุฉ ููุท ุญุณุจ ุงูุตูุงุญูุฉ

```blade
<div class="mb-3">
    <label class="form-label">ูุฒู ุงูุงุณุชุงูุฏ</label>
    <input type="number" 
           name="stand_weight" 
           class="form-control" 
           @if(!canUpdate('STAGE1_EDIT_WEIGHT')) readonly @endif>
    
    @if(!canUpdate('STAGE1_EDIT_WEIGHT'))
    <small class="text-muted">ูุง ููููู ุชุนุฏูู ุงููุฒู (ุชุญุชุงุฌ ุตูุงุญูุฉ)</small>
    @endif
</div>
```

### 3. ุฅุฎูุงุก ุนููุฏ ูู ุฌุฏูู

```blade
<table class="table">
    <thead>
        <tr>
            <th>ุงูุจุงุฑููุฏ</th>
            <th>ุงููุงุฏุฉ</th>
            
            {{-- ุนููุฏ ุงููุฒู ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ --}}
            @if(canRead('STAGE1_VIEW_WEIGHT'))
            <th>ุงููุฒู</th>
            <th>ุงููุฏุฑ</th>
            @endif
            
            {{-- ุนููุฏ ุงูุณุนุฑ ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ --}}
            @if(canRead('VIEW_PRICES'))
            <th>ุงูุณุนุฑ</th>
            @endif
        </tr>
    </thead>
    <tbody>
        @foreach($items as $item)
        <tr>
            <td>{{ $item->barcode }}</td>
            <td>{{ $item->material_name }}</td>
            
            @if(canRead('STAGE1_VIEW_WEIGHT'))
            <td>{{ $item->weight }}</td>
            <td>{{ $item->waste }}</td>
            @endif
            
            @if(canRead('VIEW_PRICES'))
            <td>{{ $item->price }}</td>
            @endif
        </tr>
        @endforeach
    </tbody>
</table>
```

### 4. ุฅุฎูุงุก ูุณู ูุงูู

```blade
{{-- ูุณู ูุนูููุงุช ุงูุนุงูู - ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ --}}
@if(canRead('STAGE1_VIEW_WORKER'))
<div class="card mb-3">
    <div class="card-header">
        <h5>ูุนูููุงุช ุงูุนุงูู</h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-4">
                <label>ุงุณู ุงูุนุงูู</label>
                <input type="text" value="{{ $worker->name }}" class="form-control" readonly>
            </div>
            <div class="col-md-4">
                <label>ุงููุฑุฏูุฉ</label>
                <input type="text" value="{{ $worker->shift }}" class="form-control" readonly>
            </div>
        </div>
    </div>
</div>
@endif
```

### 5. ุฅุฎูุงุก ุฒุฑ ุจูุงุกู ุนูู ุงูุตูุงุญูุฉ

```blade
<div class="d-flex gap-2">
    {{-- ุฒุฑ ุงูุญูุธ - ูุธูุฑ ููุฌููุน ูู ูุฏููู ุตูุงุญูุฉ ุฅูุดุงุก --}}
    @if(canCreate('STAGE1_STANDS'))
    <button type="submit" class="btn btn-primary">
        <i class="fas fa-save"></i> ุญูุธ
    </button>
    @endif
    
    {{-- ุฒุฑ ุงูุญุฐู - ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ ุญุฐู --}}
    @if(canDelete('DELETE_RECORDS'))
    <button type="button" class="btn btn-danger" onclick="deleteRecord()">
        <i class="fas fa-trash"></i> ุญุฐู
    </button>
    @endif
</div>
```

### 6. ุฑุณุงูุฉ ุจุฏููุฉ ูููุณุชุฎุฏููู ุจุฏูู ุตูุงุญูุฉ

```blade
@if(canRead('VIEW_COSTS'))
    <div class="alert alert-info">
        <strong>ุฅุฌูุงูู ุงูุชูููุฉ:</strong> {{ number_format($totalCost, 2) }} ุฑูุงู
    </div>
@else
    <div class="alert alert-secondary">
        <i class="fas fa-lock"></i> ุงูุชูุงููู ูุชุงุญุฉ ูููุฏูุฑูู ููุท
    </div>
@endif
```

---

## ๐จ ุฃูุซูุฉ ูุชูุฏูุฉ

### ูุซุงู 1: ูููุฐุฌ ุจุตูุงุญูุงุช ูุชุนุฏุฏุฉ

```blade
<form id="productionForm">
    {{-- ุงููุณู ุงูุฃุณุงุณู - ูุธูุฑ ููุฌููุน --}}
    <div class="row mb-3">
        <div class="col-md-6">
            <label>ุงูุจุงุฑููุฏ</label>
            <input type="text" name="barcode" class="form-control" required>
        </div>
    </div>

    {{-- ูุณู ุงููุฒู - ุจุตูุงุญูุฉ ูุญุฏุฏุฉ --}}
    @if(canRead('STAGE1_VIEW_WEIGHT'))
    <div class="border rounded p-3 mb-3 bg-light">
        <h6 class="text-primary mb-3">
            <i class="fas fa-weight"></i> ุชูุงุตูู ุงููุฒู
        </h6>
        <div class="row">
            <div class="col-md-4">
                <label>ุงููุฒู</label>
                <input type="number" 
                       name="weight" 
                       class="form-control"
                       @if(!canUpdate('STAGE1_EDIT_WEIGHT')) readonly @endif>
            </div>
            <div class="col-md-4">
                <label>ุงููุฏุฑ</label>
                <input type="number" name="waste" class="form-control" readonly>
            </div>
            <div class="col-md-4">
                <label>ุงููุณุจุฉ</label>
                <input type="text" id="wastePercentage" class="form-control" readonly>
            </div>
        </div>
    </div>
    @endif

    {{-- ูุณู ุงูุณุนุฑ - ุจุตูุงุญูุฉ ูุญุฏุฏุฉ --}}
    @if(canRead('VIEW_PRICES'))
    <div class="border rounded p-3 mb-3 bg-warning bg-opacity-10">
        <h6 class="text-warning mb-3">
            <i class="fas fa-dollar-sign"></i> ูุนูููุงุช ุงูุณุนุฑ
        </h6>
        <div class="row">
            <div class="col-md-6">
                <label>ุณุนุฑ ุงููููู</label>
                <input type="number" 
                       name="price_per_kg" 
                       class="form-control"
                       @if(!canUpdate('EDIT_PRICES')) readonly @endif>
            </div>
            @if(canRead('VIEW_COSTS'))
            <div class="col-md-6">
                <label>ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ</label>
                <input type="number" id="totalCost" class="form-control" readonly>
            </div>
            @endif
        </div>
    </div>
    @endif

    {{-- ุงูุฃุฒุฑุงุฑ --}}
    <div class="d-flex gap-2">
        @if(canCreate('STAGE1_STANDS'))
        <button type="submit" class="btn btn-primary">ุญูุธ</button>
        @endif
        
        @if(canDelete('DELETE_RECORDS'))
        <button type="button" class="btn btn-danger">ุญุฐู</button>
        @endif
    </div>
</form>
```

### ูุซุงู 2: JavaScript ูุน ุงูุตูุงุญูุงุช

```blade
<script>
// ุชูุฑูุฑ ุงูุตูุงุญูุงุช ุฅูู JavaScript
const permissions = {
    canViewWeight: {{ canRead('STAGE1_VIEW_WEIGHT') ? 'true' : 'false' }},
    canEditWeight: {{ canUpdate('STAGE1_EDIT_WEIGHT') ? 'true' : 'false' }},
    canViewPrices: {{ canRead('VIEW_PRICES') ? 'true' : 'false' }},
    canEditPrices: {{ canUpdate('EDIT_PRICES') ? 'true' : 'false' }},
};

// ุงุณุชุฎุฏุงููุง ูู JavaScript
function calculateTotal() {
    if (permissions.canViewPrices) {
        // ุงุญุณุจ ุงูุณุนุฑ
        let total = weight * pricePerKg;
        document.getElementById('totalPrice').value = total;
    }
}

function saveData() {
    if (!permissions.canEditWeight) {
        alert('ููุณ ูุฏูู ุตูุงุญูุฉ ุชุนุฏูู ุงููุฒู');
        return;
    }
    
    // ุญูุธ ุงูุจูุงูุงุช
}
</script>
```

---

## ๐๏ธ ููููุฉ ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุตูุญุงุชู ุงูุญุงููุฉ

### ุงูุฎุทูุฉ 1: ุญุฏุฏ ุงูุญููู ุงูุญุณุงุณุฉ
- ุญููู ุงููุฒู ูุงููุฏุฑ
- ูุนูููุงุช ุงูุนูุงู
- ุงูุฃุณุนุงุฑ ูุงูุชูุงููู
- ุฃุฒุฑุงุฑ ุงูุญุฐู ูุงูุชุนุฏูู

### ุงูุฎุทูุฉ 2: ุฃุถู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ
```blade
@if(canRead('STAGE1_VIEW_WEIGHT'))
    {{-- ุงูุญููู ุงูุญุณุงุณุฉ ููุง --}}
@endif
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุฑ ูุน ูุณุชุฎุฏููู ูุฎุชูููู
- ุณุฌู ุฏุฎูู ูู Admin โ ูุฌุจ ุฃู ูุฑู ูู ุดูุก
- ุณุฌู ุฏุฎูู ูู Manager โ ูุฑู ุงูุชูุงุตูู
- ุณุฌู ุฏุฎูู ูู Worker โ ูุง ูุฑู ุงูุชูุงุตูู ุงูุญุณุงุณุฉ

---

## ๐ ุฌุฏูู ุชูุฒูุน ุงูุตูุงุญูุงุช

| ุงูุตูุงุญูุฉ | Admin | Manager | Supervisor | Worker |
|---------|-------|---------|-----------|--------|
| ุนุฑุถ ุงููุฒู | โ | โ | โ | โ |
| ุชุนุฏูู ุงููุฒู | โ | โ | โ | โ |
| ุนุฑุถ ุงูุนุงูู | โ | โ | โ | โ |
| ุนุฑุถ ุงูุฃุณุนุงุฑ | โ | โ | โ | โ |
| ุชุนุฏูู ุงูุฃุณุนุงุฑ | โ | โ | โ | โ |
| ุนุฑุถ ุงูุชูุงููู | โ | โ | โ | โ |
| ุญุฐู ุงูุณุฌูุงุช | โ | โ | โ | โ |

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ

ุนูุฏ ุฅุถุงูุฉ ุตูุญุฉ ุฌุฏูุฏุฉุ ุชุฃูุฏ ูู:

- [ ] ุญูุงูุฉ ุญููู ุงููุฒู ุจู `STAGE*_VIEW_WEIGHT`
- [ ] ุญูุงูุฉ ุชุนุฏูู ุงููุฒู ุจู `STAGE*_EDIT_WEIGHT`
- [ ] ุญูุงูุฉ ูุนูููุงุช ุงูุนุงูู ุจู `STAGE*_VIEW_WORKER`
- [ ] ุญูุงูุฉ ุงูุฃุณุนุงุฑ ุจู `VIEW_PRICES`
- [ ] ุญูุงูุฉ ุงูุชูุงููู ุจู `VIEW_COSTS`
- [ ] ุญูุงูุฉ ุฒุฑ ุงูุญุฐู ุจู `DELETE_RECORDS`
- [ ] ุงุฎุชุจุงุฑ ุงูุตูุญุฉ ูุน ุฃุฏูุงุฑ ูุฎุชููุฉ

---

**ุชู ุงูุชุญุฏูุซ:** 22 ููููุจุฑ 2025
